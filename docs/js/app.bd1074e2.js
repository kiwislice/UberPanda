(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)i=s[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("3ebb"),a=n.n(r);a.a},"3ebb":function(e,t,n){var r=n("e31a");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("517436b3",r,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-link",{staticClass:"m-3",attrs:{to:"/"}},[e._v("店家清單")]),n("router-link",{staticClass:"m-3",attrs:{to:"/foo"}},[e._v("新增頁面")]),n("router-link",{staticClass:"m-3",attrs:{to:"/pricecomputer"}},[e._v("金額計算")]),n("router-view")],1)},o=[],i={name:"App",data:function(){return{}},components:{}},s=i,c=(n("034f"),n("2877")),u=Object(c["a"])(s,a,o,!1,null,null,null),l=u.exports,p=n("8c4f"),d=n("5f5b"),m=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"list"}},[n("h5",[e._v("店家清單")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},e._l(e.foodpanda,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"col-sm-12"},[n("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])])})),0),n("div",{staticClass:"col"},e._l(e.ubereat,(function(t,r){return n("div",{key:r},[n("div",{staticClass:"col-sm-12"},[n("a",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.name))])])])})),0)])])}),f=[],v=(n("4160"),n("ac1f"),n("841c"),n("159b"),n("bc3a")),h=n.n(v),g={name:"App",data:function(){return{value:"",products:null,stores:[],ubereat:[],foodpanda:[]}},components:{},methods:{query:function(){var e=this;h.a.post("https://evident-lamprey-59.hasura.app/v1/graphql",{query:"query MyQuery {\n              store(distinct_on: id) {\n                id\n                name\n                url\n              }\n            } "}).then((function(t){return e.stores=t.data.data.store,e.stores.forEach((function(t){t.url.search("ubereat")>0&&e.ubereat.push(t),t.url.search("foodpanda")>0&&e.foodpanda.push(t)}))}))}},created:function(){this.query()}},y=g,b=Object(c["a"])(y,m,f,!1,null,null,null),_=b.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"editstore"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editStore.name,expression:"editStore.name"}],staticClass:"mx-auto w-50 form-control",attrs:{type:"text",placeholder:"店名"},domProps:{value:e.editStore.name},on:{input:function(t){t.target.composing||e.$set(e.editStore,"name",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.editStore.url,expression:"editStore.url"}],staticClass:"mx-auto w-50 form-control mt-1",attrs:{type:"text",placeholder:"URL"},domProps:{value:e.editStore.url},on:{input:function(t){t.target.composing||e.$set(e.editStore,"url",t.target.value)}}}),n("div",{staticClass:"form-check"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.editStore.eaten,expression:"editStore.eaten"}],staticClass:"form-check-input",attrs:{type:"checkbox",for:"eatenCheck"},domProps:{checked:Array.isArray(e.editStore.eaten)?e._i(e.editStore.eaten,null)>-1:e.editStore.eaten},on:{change:function(t){var n=e.editStore.eaten,r=t.target,a=!!r.checked;if(Array.isArray(n)){var o=null,i=e._i(n,o);r.checked?i<0&&e.$set(e.editStore,"eaten",n.concat([o])):i>-1&&e.$set(e.editStore,"eaten",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.editStore,"eaten",a)}}}),n("label",{staticClass:"form-check-label",attrs:{for:"eatenCheck"}},[e._v(" 吃過了 ")])]),n("button",{staticClass:"mx-auto btn btn-primary my-1",attrs:{label:"新增"},on:{click:function(t){return e.createStore(t)}}},[e._v("新增")])]),n("div",{staticClass:"storelist"},e._l(e.stores,(function(t){return n("div",{key:t.id},[e._v(" "+e._s(t.id)+" "+e._s(t.name)+" ")])})),0)])},x=[],P=n("8785"),w=n("7506"),k=n("9530"),S=n.n(k);function $(){var e=Object(P["a"])(["\n  mutation addStore($name: String!, $url: String!, $eaten: Boolean!) {\n    insert_store_one(object: {name: $name, url: $url, eaten: $eaten}) {\n      id\n    }\n  }\n"]);return $=function(){return e},e}function F(){var e=Object(P["a"])(["\n  query allStore {\n    store(distinct_on: id) {\n      id\n      name\n      url\n    }\n  }\n"]);return F=function(){return e},e}var O=S()(F()),j=S()($()),T={name:"Store",data:function(){return{value:"",stores:[{id:1,name:"wait",url:"wait"}],editStore:{name:null,url:null,eaten:!1}}},methods:{createStore:function(){var e=Object.assign({},this.editStore);console.log(e),h.a.post("https://evident-lamprey-59.hasura.app/v1/graphql",{query:Object(w["a"])(j),variables:e}).then((function(e){return console.log(e)}))},getStores:function(){var e=this;h.a.post("https://evident-lamprey-59.hasura.app/v1/graphql",{query:Object(w["a"])(O)}).then((function(t){return e.stores=t.data.data.store}))}},mounted:function(){this.getStores()},components:{}},q=T,E=(n("f725"),Object(c["a"])(q,C,x,!1,null,"ad699664",null)),M=E.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pricecomputer"},[n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.computeType,expression:"computeType"}],staticClass:"form-check-input",attrs:{type:"radio",id:"ctr1",value:"%"},domProps:{checked:e._q(e.computeType,"%")},on:{change:[function(t){e.computeType="%"},e.change]}}),n("label",{staticClass:"form-check-label",attrs:{for:"ctr1"}},[e._v(" 優惠% ")])]),n("div",{staticClass:"form-check form-check-inline"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.computeType,expression:"computeType"}],staticClass:"form-check-input",attrs:{type:"radio",id:"ctr2",value:"P"},domProps:{checked:e._q(e.computeType,"P")},on:{change:[function(t){e.computeType="P"},e.change]}}),n("label",{staticClass:"form-check-label",attrs:{for:"ctr2"}},[e._v(" 優惠固定金額 ")])]),e.isComputeByPercent()?n("div",{staticClass:"input-group mb-3 mx-auto w-50"},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.discountPercent,expression:"discountPercent"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.discountPercent},on:{change:e.change,input:function(t){t.target.composing||(e.discountPercent=t.target.value)}}})]):e._e(),e.isComputeByPercent()?e._e():n("div",{staticClass:"input-group mb-3 mx-auto w-50"},[e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.discount,expression:"discount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.discount},on:{change:e.change,input:function(t){t.target.composing||(e.discount=t.target.value)}}})]),n("div",{staticClass:"input-group mb-3 mx-auto w-50"},[e._m(2),n("input",{directives:[{name:"model",rawName:"v-model",value:e.deliveryFee,expression:"deliveryFee"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.deliveryFee},on:{change:e.change,input:function(t){t.target.composing||(e.deliveryFee=t.target.value)}}})]),n("div",{staticClass:"input-group mb-3 mx-auto w-50"},[e._m(3),n("input",{directives:[{name:"model",rawName:"v-model",value:e.personCount,expression:"personCount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.personCount},on:{change:e.change,input:function(t){t.target.composing||(e.personCount=t.target.value)}}})]),n("div",{staticClass:"alert alert-warning mx-auto w-50",attrs:{role:"alert"}},[e._v(" 應收總額："+e._s(e.realTotal)+" ")]),e._l(e.personalFee,(function(t){return n("div",{key:t.index,staticClass:"input-group my-2 mx-auto w-50"},[n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("單人金額"+e._s(t.index))])]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.originalPrice,expression:"per.originalPrice"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.originalPrice},on:{change:e.change,input:function(n){n.target.composing||e.$set(t,"originalPrice",n.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("span",{staticClass:"input-group-text"},[e._v("應收金額："+e._s(t.realPrice))])])])}))],2)},B=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("優惠折扣%，例：85折請輸入0.85")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("優惠折扣金額")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("外送費")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-group-prepend"},[n("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[e._v("人數")])])}],A=(n("d81d"),n("13d5"),"%"),J={name:"PriceComputer",data:function(){return{computeType:A,discount:0,discountPercent:1,deliveryFee:0,personCount:0,personalFee:[],realTotal:0}},methods:{change:function(){this.initPersonalFee(),this.isComputeByPercent()?this.computeByPercent():this.computeByPrice()},computeByPrice:function(){var e=(this.discount-this.deliveryFee)/this.personCount;e=Math.round(e),this.personalFee.forEach((function(t){return t.realPrice=t.originalPrice-e})),this.realTotal=this.personalFee.map((function(e){return e.realPrice})).reduce((function(e,t){return e+t}),0)},computeByPercent:function(){var e=this,t=this.deliveryFee/this.personCount;this.personalFee.forEach((function(n){return n.realPrice=Math.round(n.originalPrice*e.discountPercent+t)})),this.realTotal=this.personalFee.map((function(e){return e.realPrice})).reduce((function(e,t){return e+t}),0)},isComputeByPercent:function(){return this.computeType==A},initPersonalFee:function(){while(this.personCount<this.personalFee.length)this.personalFee.pop();while(this.personCount>this.personalFee.length)this.personalFee.push({index:this.personalFee.length+1,originalPrice:0,realPrice:0})}},mounted:function(){},components:{}},z=J,H=Object(c["a"])(z,N,B,!1,null,"15af6f4e",null),L=H.exports;r["default"].config.productionTip=!1,r["default"].use(p["a"],d["a"]);var Q={template:"<div>bar</div>"},R=[{path:"/",component:_},{path:"/foo",component:M},{path:"/bar",component:Q},{path:"/pricecomputer",component:L}],U=new p["a"]({mode:"hash",routes:R});new r["default"]({router:U,render:function(e){return e(l)}}).$mount("#app")},"6b8b":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"h3[data-v-ad699664]{margin:40px 0 0}ul[data-v-ad699664]{list-style-type:none;padding:0}li[data-v-ad699664]{display:inline-block;margin:0 10px}a[data-v-ad699664]{color:#42b983}",""]),e.exports=t},"75f1":function(e,t,n){var r=n("6b8b");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var a=n("499e").default;a("6aed0b56",r,!0,{sourceMap:!1,shadowMode:!1})},e31a:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:10px}",""]),e.exports=t},f725:function(e,t,n){"use strict";var r=n("75f1"),a=n.n(r);a.a}});